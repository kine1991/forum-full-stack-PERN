version: '3'
services:
  api_db:
    image: 'postgres:latest'
    environment:
      - POSTGRES_PASSWORD=postgres_password
  api:
    build: ./api
    environment:
      - POSTGRES_USER=postgres
      - POSTGRES_HOST=api_db
      - POSTGRES_DATABASE=postgres
      - POSTGRES_PASSWORD=postgres_password
      - POSTGRES_PORT=5432

    links:
      - api_db

    depends_on:
      - api_db

      # - POSTGRES_USER=postgres
      # - POSTGRES_HOST=postgres
      # - POSTGRES_DATABASE=postgres
      # - POSTGRES_PASSWORD=postgres_password
      # - POSTGRES_PORT=5432


      #       - POSTGRES_PORT=5432
      # - POSTGRES_USER=nikolay
      # - POSTGRES_PASSWORD=secretpassword
      # - POSTGRES_HOST='api_db'
      # - POSTGRES_DATABASE=mydb